<StartupScreen>:
    name: 'startup'
    Image:
        source: "images\GoalMaster_logo1.png"
        pos_hint: {"center_x": 0.5, "center_y": 0.70}
    MDLabel:
        text: "Welcome!"
        halign: "center"
        pos_hint: {"center_x": 0.5, "center_y": 0.35}
        text_color: "011F4B"
        font_style: "Display"
        role: "small"

    MDLabel:
        text: "PRESS HERE TO START YOUR JOURNEY"
        halign: "center"
        pos_hint: {"center_x": 0.5, "center_y": 0.30}
        text_color: "011F4B"
        font_style: "Body"
        role: "medium"

    MDButton:
        style: "filled"
        pos_hint: {'center_x':0.5,'center_y':0.20}
        on_press: root.manager.current = 'startup1'
        theme_bg_color: 'Custom'
        md_bg_color: 'B3CDE0'
        MDButtonText:
            text: "START"
            theme_text_color: "Custom"
            text_color: "011F4B"

<Startup1Screen>
    name: 'startup1'
    Screen:
        MDLabel:
            text: "Welcome to"
            font_size: "20dp"
            halign: "center"
            pos_hint: {"center_x": 0.5, "center_y": 0.92}
            text_color: "011F4B"

        MDLabel:
            text: "Goal Master"
            font_size: "70dp"
            halign: "center"
            font_style: "Display"
            role: 'small'
            pos_hint: {"center_x": 0.5, "center_y": 0.85}
            bold: True
            text_color: "011F4B"
            font_name: 'Roboto-Black.ttf'

        Image:
            source: "images\GoalMaster.png"
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            size_hint: .6, .6

        MDLabel:
            font_size: "12sp"
            text: "Goal Master is a user-friendly financial management app that empowers individuals to set and achieve personalized savings goals with a comprehensive dashboard and easy tracking features."
            pos_hint: {"center_x": 0.5, "center_y": 0.39}
            -text_size: root.width - dp(100), None    
            halign: 'center'
            font_name: 'Roboto-Regular.ttf'

        MDButton:
            style: "tonal"
            size_hint: .66, .065
            pos_hint: {"center_x": 0.5, "center_y": 0.12}
            halign: 'center'
            on_press: root.manager.current = 'signup' #'startup2' 
            theme_bg_color: 'Custom'
            md_bg_color: 'B3CDE0'
            MDButtonText:
                text: "Next"
                theme_text_color: "Custom"
                text_color: "011F4B"
        
        MDButton:
            style: "text"
            text_color: '#808080'
            line_color: 0, 0, 0, 0
            pos_hint: {"center_x": 0.5,"center_y": 0.05}
            on_press: root.manager.current = 'login'
            MDButtonText:
                text: "Skip"
                theme_text_color: "Custom"
                text_color: "011F4B"
<CreategoalScreen>
    name: 'creategoal'
    Screen:
        MDLabel:
            text: "Create Goal:"
            font_size: "20dp"
            font_style: 'Display'
            role: 'small'
            halign: "center"
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            text_color: "011F4B"
        MDTextField:
            id: goal_name
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .7}
            mode: 'outlined'
            MDTextFieldHintText:
                text: "Name of your Goal"
        MDTextField:
            id: goal_amount
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .59}
            mode: 'outlined'
            MDTextFieldHintText:
                text: "Amount you want to save"
        MDTextField:
            id: goal_duration
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .48}           
            text: "2025-12-31"
            mode: 'outlined' 
            MDTextFieldHintText:
                text: "Deadline"
        MDTextField:
            id: allowance
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .37}           
            text: "30000"
            mode: 'outlined' 
            MDTextFieldHintText:
                text: "Allowance"
            
        MDButton:
            style: "tonal"
            size_hint: .66, .065
            md_bg_color: 0.0039, 0.1216, 0.2941, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.13}
            halign: 'center'
            on_press: 
                root.add_goal()
                #root.update_piggy_content()
                root.manager.current = 'dashboard'
            MDButtonText:
                text: "Start Journey"
                theme_text_color: "Custom"
                text_color: "011F4B"
        MDButton:
            style: "text"
            text_color: '#808080'
            line_color: 0, 0, 0, 0
            pos_hint: {"center_x": 0.5,"center_y": 0.06}
            on_press: root.manager.current = 'dashboard'
            MDButtonText:
                text: "Skip"
                theme_text_color: "Custom"
                text_color: "011F4B"

<SignupScreen1>
    name: 'signup1'
    Screen:
        MDIconButton:
            icon: "arrow-left"
            pos_hint: {"center_y": 0.95}
            theme_text_color: "Custom"
            on_press: root.manager.current = 'dashboard'
        MDLabel:
            text: "Create Account:"
            font_size: "20dp"
            font_style: "Display"
            role: "small"
            halign: "center"
            pos_hint: {"center_x": 0.5, "center_y": 0.80}
            text_color: "011F4B"
        MDTextField:
            id: name
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .7}
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Name"
            
        MDTextField:
            id: password
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .59}
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Password"
        MDTextField:
            id: email
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .48} 
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Email"
        MDButton:
            id: sgnup_btn
            style: "tonal"
            text: "Sign up"
            size_hint: .66, .065
            md_bg_color: 0.0039, 0.1216, 0.2941, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.12}
            halign: 'center'
            on_press: 
                root.create_user() 
            MDButtonText:
                text: "Create"
                theme_text_color: "Custom"
                text_color: "011F4B"

<SignupScreen>
    name: 'signup'
    Screen:
        MDIconButton:
            icon: "arrow-left"
            pos_hint: {"center_y": 0.95}
            theme_text_color: "Custom"
            on_press: root.manager.current = 'startup1'
        MDLabel:
            text: "Sign Up"
            font_size: "20dp"
            font_style: "Display"
            role: "small"
            halign: "center"
            pos_hint: {"center_x": 0.5, "center_y": 0.80}
            text_color: "011F4B"
        MDTextField:
            id: name
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .7}
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Name"
            
            
        MDTextField:
            id: password
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .59}
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Password"
        MDTextField:
            id: email
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .48} 
            mode: 'outlined'
            icon_right: "account"
            write_tab: False
            helper_text_mode: "on_error"
            helper_text: "This field is required"
            MDTextFieldHintText:
                text: "Email"
        MDButton:
            id: sgnup_btn
            style: "tonal"
            text: "Sign up"
            size_hint: .66, .065
            md_bg_color: 0.0039, 0.1216, 0.2941, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.12}
            halign: 'center'
            on_press: 
                root.create_user()
                root.manager.current = 'creategoal' 
            MDButtonText:
                text: "Sign Up"
                theme_text_color: "Custom"
                text_color: "011F4B"
        
        MDButton:
            style: "tonal"
            text: "Log In"
            line_color: 0, 0, 0, 0
            pos_hint: {"center_x": 0.5,"center_y": 0.05}
            on_press: root.manager.current = 'login'
            MDButtonText:
                text: "Login"
                theme_text_color: "Custom"
                text_color: "005B96"

<LoginScreen>
    name: 'login'
    Screen:
        MDIconButton:
            icon: "arrow-left"
            pos_hint: {"center_y": 0.95}
            #theme_text_color: "Custom"
            on_press: root.manager.current = 'signup'
        MDLabel:
            text: "Login"
            font_style: "Display"
            role: "small"
            halign: "center"
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            text_color: "011F4B" 
            theme_text_color: 'Primary'       
        MDTextField:
            id: email
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .7} 
            mode: 'outlined'
            write_tab: False
            MDTextFieldHintText:
                text: "Email"
            MDTextFieldTrailingIcon:
                icon: "account"
        MDTextField:
            id: password
            size_hint_x: .7
            pos_hint: {"center_x": .5, "top": .59}
            password: True
            mode: 'outlined'
            write_tab: False
            MDTextFieldHintText:
                text: "Password"
            MDTextFieldTrailingIcon: #not pindutable, but should be
                icon: "eye-off"
        
        
        #MDBoxLayout:
           # size_hint: .5, None
         #   pos_hint: {"center_x": .5, "top": .45}
         #   MDCheckbox:
         #       id: keepmeloggedin
            
        #    MDLabel:
          #      text: "Keep me logged in"
        MDBoxLayout:
            size_hint: .5, None
            pos_hint: {"center_x": .5, "top": .5}
            MDFloatLayout:
                MDCheckbox:
                    id: keepmeloggedin
                    pos_hint: {"center_x": .09, "center_y": .5}
            
                MDLabel:
                    text: "Keep me logged in"
                    pos_hint: {"center_x": .75, "center_y": .48}
        MDButton:
            style: "tonal"
            size_hint: .66, .065
            md_bg_color: 0.0039, 0.1216, 0.2941, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.42}
            halign: 'center'
            on_press: 
                root.user_login()
                root.manager.current = 'dashboard' if root.successful_login else 'login'
            MDButtonText:
                text: "Login"
                theme_text_color: "Custom"
                text_color: "005B96"   
        MDButton:
            style: "text"
            size_hint: .60, .055
            line_color: 0, 0, 0, 0
            pos_hint: {"center_x": 0.5,"center_y": 0.30}
            MDButtonText:
                text: "Forgot Password"
                theme_text_color: "Custom"
                text_color: "005B96"

<DashboardScreen>
    name: 'dashboard'

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar: 
            type: 'small' 
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "menu"
                    md_icon_color: "005B96"
                    on_release: nav_drawer.set_state("toggle")
            
            MDTopAppBarTitle:
                text: "Dashboard"
                theme_text_color: "Custom"
                text_color: "005B96"
                pos_hint: {"center_x": .5}

            MDTopAppBarTrailingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "account"
                    on_press:
                        root.manager.current = 'account'
        
        MDFloatLayout:
            MDCard:
                style: "outlined"
                pos_hint: {"center_x": .50, "center_y": .82}
                padding: "4dp"
                size_hint: None, None
                size: "300dp", "150dp"
                theme_bg_color: 'Custom'
                md_bg_color: 'b3cde0'
                on_press: root.switch_to_tracker()
            
                MDRelativeLayout:

                    MDLabel:
                        text: "See all"                          
                        # icon: "dots-vertical"
                        pos: "230dp", "51dp"
                        font_style: "Label"
                        role: "medium"

                    MDLabel:
                        text: "Daily Expenses"
                        adaptive_size: True
                        color: "grey"
                        pos: "15dp", "113dp"
                        bold: True

                    MDDivider:
                        size_hint_x: None
                        width: 320
                        pos_hint: {'center_x': 0.5, 'center_y': .7}
                        theme_bg_color: 'Custom'
                        color: '23292C'


                    MDLabel:
                        text: "Allowance:"
                        adaptive_size: True
                        color: "grey"
                        pos: "15dp", "55dp"
                        font_style: "Title"
                        role: "small"

                        MDLabel:
                            id: allowance
                            text: "Php 0"
                            adaptive_size: True
                            color: "blue"
                            bold: True
                            pos: "15dp", "30dp"
                            font_style: "Title"
                            role: "large"
                        
            MDCard:
                style: "outlined"
                pos_hint: {"center_x": .50, "center_y": .52}
                padding: "4dp"
                size_hint: None, None
                size: "300dp", "150dp"
                theme_bg_color: 'Custom'
                md_bg_color: 'b3cde0'
                on_press: root.switch_to_piggy()

                MDRelativeLayout:
                    
                    MDLabel:
                        text: "See all"                          
                        # icon: "dots-vertical"
                        pos: "230dp", "51dp"
                        font_style: "Label"
                        role: "medium"

                    MDLabel:
                        text: "Piggy Bank"
                        adaptive_size: True
                        color: "grey"
                        pos: "15dp", "113dp"
                        bold: True

                    MDDivider:
                        size_hint_x: None
                        width: 320
                        pos_hint: {'center_x': 0.5, 'center_y': .7}
                        theme_bg_color: 'Custom'
                        color: '23292C'

                    MDLabel:
                        text: "Total Savings:"
                        adaptive_size: True
                        color: "grey"
                        pos: "15dp", "55dp"
                        font_style: "Title"
                        role: "small"

                        MDLabel:
                            text: "₱ 0"
                            adaptive_size: True
                            color: "blue"
                            bold: True
                            pos: "15dp", "30dp"
                            font_style: "Title"
                            role: "large"
            

    MDNavigationDrawer:
        id: nav_drawer
        radius: 0, dp(5), dp(5), 0

        MDNavigationDrawerMenu:

            DrawerItem:
                icon: "plus"
                text: "Add Account"
                on_release:
                    root.manager.current = 'signup1'  

            
            MDNavigationDrawerDivider:
                
            DrawerItem:
                icon: "pin"
                text: "Pinned Transaction"
            
            MDNavigationDrawerDivider:
                
            DrawerItem:
                icon: "flag"
                text: "Add Goal"
                on_release: 
                    root.manager.current = 'creategoal'
            
            MDNavigationDrawerDivider:
                
            DrawerItem:
                icon: "exit-to-app"
                text: "Log out"
                on_release:
                    root.log_out()
                    root.manager.current = 'login'
                    nav_drawer.set_state("close") 


<DrawerItem>
    MDNavigationDrawerItemLeadingIcon:
        icon: root.icon
        theme_icon_color: "Custom"
        icon_color: "#4a4939"

    MDNavigationDrawerItemText:
        text: root.text
        theme_text_color: "Custom"
        text_color: "#4a4939"

<DrawerLabel>
    adaptive_height: True
    padding: "18dp", 0, 0, "12dp"

    MDNavigationDrawerItemLeadingIcon:
        icon: root.icon
        theme_icon_color: "Custom"
        icon_color: "#4a4939"
        pos_hint: {"center_y": .5}

    MDNavigationDrawerLabel:
        text: root.text
        theme_text_color: "Custom"
        text_color: "#4a4939"
        pos_hint: {"center_y": .5}
        padding: "6dp", 0, "16dp", 0
        theme_line_height: "Custom"
        line_height: 0

<TrackerScreen>
    name: 'tracker'
    Screen:

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar: 
            type: 'small'
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    md_icon_color: "005B96"
                    on_release: root.switch_to_dashboard()
            
            MDTopAppBarTitle:
                text: "Daily Expenses"
                theme_text_color: "Custom"
                text_color: "005B96"
                pos_hint: {"center_x": .5}
            
            MDTopAppBarTrailingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "history"
                    on_release: root.switch_to_history_tracker()

        MDFloatLayout:
            MDCard:
                style: "filled"
                pos_hint: {"center_x": .50, "center_y": .33}
                padding: "4dp"
                size_hint: None, None
                size: "300dp", "350dp"
                theme_bg_color: 'Custom'
                md_bg_color: 'b3cde0'

                MDRelativeLayout:
                    MDLabel:
                        text: 'No.'
                        #halign: 'center'
                        pos_hint: {'center_x': 0.6, 'center_y':0.92}

                    MDLabel:
                        text: 'Item'
                        #halign: 'center'
                        pos_hint: {'center_x': 1.3, 'center_y':0.92}
                    
                    MDLabel:
                        text: 'Price'
                        #halign: 'center'
                        pos_hint: {'center_x': 2.1, 'center_y':0.92}
                    
                    MDDivider:
                        size_hint_x: None
                        width: 345
                        pos_hint: {'center_x': 1, 'center_y': .86}
                        theme_bg_color: 'Custom'
                        color: '000000'

                MDFloatLayout:
                    MDRecycleView:   
                        id: expense_table
                        key_viewclass: 'viewclass'
                        key_size: 'height'
                        pos_hint:{'center_x': 0, 'center_y': 0.42}
                        size_hint: None, None
                        size: "290dp", "271dp"
                       

                        RecycleBoxLayout:
                            padding: dp(10)
                            spacing: dp(10)
                            default_size: None, dp(30)
                            default_size_hint: 1, None
                            size_hint_y: None
                            height: self.minimum_height
                            orientation: "vertical"
                       
        MDRelativeLayout:
            
            MDCard:
                style: "filled"
                pos_hint: {"center_x": 0.5, "center_y": .47}
                padding: "2dp"
                size_hint: None, None
                size: "270dp", "120dp"
                theme_bg_color: 'Custom'
                md_bg_color: 'D7E5EF' #'a1c1d9'

                MDRelativeLayout:
                    MDLabel:
                        id: expense_total
                        text: 'Total: P'
                        halign: 'center'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                        
                    MDLabel:
                        id: allowance
                        text: 'Allowance: P'
                        halign: 'center'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                    MDLabel:
                        id: savings
                        text: 'Savings: P' 
                        halign: 'center'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        
            MDRelativeLayout:
                MDFabButton:
                    icon: 'plus'
                    style: 'small'
                    pos_hint: {'center_x': 0.5, 'center_y': 0.15}
                    on_release: root.manager.current = 'createexpenses'
                

#delete from here
<DialogScreen>
    
    size_hint_x: None
    width: 400
    
    MDDialogHeadlineText:
        text: 'Add Expenses'
    
    MDDialogContentContainer:
        orientation: 'vertical'
        spacing: "15dp"

        MDTextField:
            mode: 'filled'
            MDTextFieldHintText:
                text: 'Item'

        MDTextField:
            mode: 'filled'
            MDTextFieldHintText:
                text: 'Price'
        

        MDTextField:
            mode: 'filled'
            on_focus: root.open_menu(self)
            id: category
            MDTextFieldHintText:
                text: 'Category'

    MDDialogButtonContainer:
        spacing: '100dp'

        MDButton:
            style: 'text'
            on_release: root.cancel_dialog()
            MDButtonText:
                text: 'Cancel'
        
        MDButton:
            style: 'text'
            on_release: root.confirm_exp()
            MDButtonText:
                text: 'Add'

<DialogScreen_Delete>
    
    size_hint_x: None
    width: 400
    
    MDDialogHeadlineText:
        text: 'Delete Expenses'
    
    MDDialogContentContainer:
        orientation: 'vertical'
        spacing: "15dp"

        MDTextField:
            mode: 'filled'
            MDTextFieldHintText:
                text: 'Enter Number (No.)'
    
    MDDialogButtonContainer:
        spacing: '100dp'

        MDButton:
            style: 'text'
            on_release: root.cancel_dialog()
            MDButtonText:
                text: 'Cancel'
        
        MDButton:
            style: 'text'
            on_release: root.confirm_exp()
            MDButtonText:
                text: 'Add'
#to here delete



<HistoryScreen_Tracker>
    name: 'history_tracker'
    MDFloatLayout

        MDIconButton:
            icon: "arrow-left"
            pos_hint: {'center_x': 0.1, 'center_y': 0.95}
            style: 'filled'
            on_press: root.switch_to_tracker()
            theme_bg_color: 'Custom'
            md_bg_color: 'bad2e3'

        MDLabel:
            text: 'History'
            halign:'center'
            pos_hint: {'center_y': 0.9}
            font_style: 'Display'
            role: 'small'

    MDFloatLayout:
        MDCard:
            style: 'filled'
            pos_hint: {"center_x": .50, "center_y": .45}
            padding: "4dp"
            size_hint: None, None
            size: "300dp", "500dp"
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'
        
            MDFloatLayout:
                MDRecycleView:   
                    id: expense_table
                    key_viewclass: 'viewclass'
                    key_size: 'height'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    size_hint: None, None
                    size: "271dp", "455dp"
                    theme_bg_color: "Custom"
                    md_bg_color: 'ffffff'

                    RecycleBoxLayout:
                        padding: dp(10)
                        spacing: dp(10)
                        default_size: None, dp(30)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: "vertical"

<PiggyScreen>
    name: 'piggy'
    Screen:

    MDBoxLayout:
        orientation: 'vertical'
        theme_bg_color: "Custom"
        md_bg_color: 'b3cde0'

        MDTopAppBar: 
            type: 'small'

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    md_icon_color: "005B96"
                    on_release: root.switch_to_dashboard()

            MDTopAppBarTitle:
                text: "Piggy Bank"
                theme_text_color: "Custom"
                text_color: '111416'
                pos_hint: {"center_x": .5}

        MDFloatLayout:
            #pos_hint: {"center_x": .50, "center_y": .7}
            MDLabel:
                id: goal_name
                text: "Your Goal"
                text_color: "011F4B"
                halign: 'center'
                pos_hint: {"center_y": 0.8}
                font_style: "Headline"
                role: "large"
                bold: "True"

        MDFloatLayout:

            FitImage:
                source: "images/piggy_pic.png"
                size_hint_y: 1
                pos_hint: {"center_y": 1.2, 'center_x': 0.5}
                radius: "10dp", "10dp", 0, 0
                size_hint: None, None
                size: dp(240), dp(240) 

            MDCard:
                style: 'filled'
                pos_hint: {"center_x": .50, "center_y": .04}
                padding: "4dp"
                size_hint: None, None
                size: "300dp", "150dp"
                theme_bg_color: 'Custom'
                md_bg_color: 'b3cde0'

                MDRelativeLayout:
                    MDLabel:
                        text: 'Savings'
                        halign: 'center'
                        pos_hint: {'center_y': 0.88}
                        font_style: "Title"
                        role: "medium"


                    MDLabel:
                        id: goal_amount
                        text: 'Php 0'
                        halign: 'center'
                        pos_hint: {'center_y': 0.65}
                        font_style: "Headline"
                        role: "large"
                        bold: "True"

                    MDLabel:
                        text: 'Deadline'
                        halign: 'center'
                        pos_hint: {'center_y': 0.39}
                        font_style: "Title"
                        role: "medium"


                    MDLabel:
                        id: deadline
                        text: 'Target Date'
                        halign: 'center'
                        pos_hint: {'center_y': 0.19}
                        font_style: "Headline"
                        role: "medium"
                        bold: "True"

        MDFloatLayout:

            MDButton:
                style: 'text'
                pos_hint: {"center_x": 0.5, "center_y": 0.2}
                on_release: root.switch_to_history_piggy()
                MDButtonText:
                    text: "Transactions"
                    font_style: "Title"
                    role: "large"
                    theme_text_color: 'Custom'
                    text_color:'grey'          

<HistoryScreen_Piggy>
    name: 'history_piggy'
    MDFloatLayout

        MDIconButton:
            icon: "arrow-left"
            pos_hint: {'center_x': 0.1, 'center_y': 0.95}
            style: 'filled'
            on_press: root.switch_to_piggy()
            theme_bg_color: 'Custom'
            md_bg_color: 'bad2e3'

        MDLabel:
            text: 'Transactions'
            halign:'center'
            pos_hint: {'center_y': 0.9}
            font_style: 'Display'
            role: 'small'

    MDFloatLayout:
        MDCard:
            style: 'filled'
            pos_hint: {"center_x": .50, "center_y": .45}
            padding: "4dp"
            size_hint: None, None
            size: "300dp", "500dp"
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'

            MDFloatLayout:
                MDRecycleView:   
                    id: expense_table
                    key_viewclass: 'viewclass'
                    key_size: 'height'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    size_hint: None, None
                    size: "271dp", "455dp"
                    theme_bg_color: "Custom"
                    md_bg_color: 'ffffff'
                    

                    RecycleBoxLayout:
                        padding: dp(10)
                        spacing: dp(10)
                        default_size: None, dp(30)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: "vertical"
<AccountScreen>
    name: 'account'
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar: 
            type: 'small' 
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'
            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    md_icon_color: "005B96"
                    on_release: 
                        root.manager.current = 'dashboard'
            
            MDTopAppBarTitle:
                text: "My Account"
                theme_text_color: "Custom"
                text_color: "005B96"
                pos_hint: {"center_x": .5}
            
        MDFloatLayout:
            orientation: "vertical"
            size_hint_x: .8            
            MDLabel:
                id: name_label
                pos_hint: {"center_x": .6, "center_y": .95}
                text: "Account name:"
            
            MDTextField:
                id: name
                pos_hint: {"center_x": .6, "center_y": .88}
                text: "James Alcantara"
            
            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .6, "center_y": .77}
                on_press: 
                    root.change_name()
                MDButtonIcon:
                    icon: "plus"
                    theme_icon_color: "Custom"
                    icon_color: "blue"
                MDButtonText:
                    text: "Change name"
            MDLabel:
                id: email_label
                pos_hint: {"center_x": .6, "center_y": .67}
                text: "Email:"
            
            MDTextField:
                id: email
                pos_hint: {"center_x": .6, "center_y": .60}
                text: "jamesalcantara@gmail.com"
            
            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .6, "center_y": .49}
                on_press: root.change_email()
                MDButtonIcon:
                    icon: "plus"
                    theme_icon_color: "Custom"
                    icon_color: "blue"
                MDButtonText:
                    text: "Change email"     
            MDLabel:
                id: password_label
                pos_hint: {"center_x": .6, "center_y": .39}
                text: "Password:"       
            MDTextField:
                id: password
                pos_hint: {"center_x": .6, "center_y": .32}
                text: "**********"
            
            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .6, "center_y": .21}
                id: delete_btn
                on_press: root.change_password()
                MDButtonIcon:
                    icon: "delete"
                    theme_icon_color: "Custom"
                    icon_color: "blue"
                MDButtonText:
                    text: "Change Password"

<CreateexpensesScreen>
    name: 'createexpenses'
    MDBoxLayout:
        orientation: 'vertical'
        MDTopAppBar: 
            type: 'small'
            theme_bg_color: 'Custom'
            md_bg_color: 'b3cde0'
            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    md_icon_color: "005B96"
                    on_release: root.manager.current = 'tracker'
            MDTopAppBarTitle:
                text: "Add Expenses"
                theme_text_color: "Custom"
                text_color: '111416'
                pos_hint: {"center_x": .5}
        MDFloatLayout:
            orientation: "vertical"
            size_hint_x: .8
            halign: "center"
            MDTextField:
                id: expense_name
                pos_hint: {"center_x": .6, "center_y": .9}
                MDTextFieldHintText:
                    text: "Name"
                MDTextFieldHelperText:
                    text: "Enter the name of your expenses"
            MDTextField:
                id: expense_amount
                pos_hint: {"center_x": .6, "center_y": .75}
                MDTextFieldHintText:
                    text: "Price"
                MDTextFieldHelperText:
                    text: "Enter the amount of your expenses"
            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .6, "center_y": .6}
                on_press: root.add_expenses()
                MDButtonIcon:
                    icon: "plus"
                    theme_icon_color: "Custom"
                    icon_color: "blue"
                MDButtonText:
                    text: "Add Expenses"
            MDTextField:
                id: expense_id
                pos_hint: {"center_x": .6, "center_y": .42}
                MDTextFieldHintText:
                    text: "ID"
                MDTextFieldHelperText:
                    text: "Enter the number ID of a specific expense you want to delete"   
            MDButton:
                style: "elevated"
                pos_hint: {"center_x": .6, "center_y": .3}
                id: delete_btn
                on_press: 
                    root.delete_expense()
                MDButtonIcon:
                    icon: "delete"
                    theme_icon_color: "Custom"
                    icon_color: "blue"
                MDButtonText:
                    text: "Delete"

